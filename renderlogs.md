2025-09-28T10:25:02.551292686Z Using cached typing_inspection-0.4.1-py3-none-any.whl (14 kB)
2025-09-28T10:25:02.552365002Z Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
2025-09-28T10:25:02.554144215Z Using cached httptools-0.6.4-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (473 kB)
2025-09-28T10:25:02.555627731Z Using cached pyyaml-6.0.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (801 kB)
2025-09-28T10:25:02.557671981Z Using cached uvloop-0.21.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.7 MB)
2025-09-28T10:25:02.608238097Z Using cached watchfiles-1.1.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (451 kB)
2025-09-28T10:25:02.609842836Z Using cached websockets-15.0.1-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
2025-09-28T10:25:02.611076946Z Using cached google_api_python_client-2.183.0-py3-none-any.whl (14.2 MB)
2025-09-28T10:25:02.647355855Z Using cached google_auth_httplib2-0.2.0-py2.py3-none-any.whl (9.3 kB)
2025-09-28T10:25:02.648447902Z Using cached httplib2-0.31.0-py3-none-any.whl (91 kB)
2025-09-28T10:25:02.649596919Z Using cached pyparsing-3.2.5-py3-none-any.whl (113 kB)
2025-09-28T10:25:02.650742907Z Using cached uritemplate-4.2.0-py3-none-any.whl (11 kB)
2025-09-28T10:25:02.651888765Z Using cached mako-1.3.10-py3-none-any.whl (78 kB)
2025-09-28T10:25:02.653026993Z Using cached markupsafe-3.0.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (22 kB)
2025-09-28T10:25:02.654107969Z Using cached pycparser-2.23-py3-none-any.whl (118 kB)
2025-09-28T10:25:02.953077987Z Installing collected packages: pytz, wrapt, websockets, uvloop, urllib3, uritemplate, tzdata, typing-extensions, tqdm, tenacity, structlog, sniffio, six, rapidfuzz, pyyaml, python-multipart, python-dotenv, pyparsing, pymysql, pyjwt, pygments, pycparser, pyasn1, psycopg2-binary, psycopg-binary, psycopg, protobuf, pluggy, packaging, numpy, msgpack, MarkupSafe, iniconfig, idna, hyperframe, httptools, hpack, h11, greenlet, google-crc32c, coverage, click, charset_normalizer, certifi, cachetools, annotated-types, uvicorn, typing-inspection, sqlalchemy, sentry-sdk, rsa, requests, python-dateutil, pytest, pydantic-core, pyasn1-modules, proto-plus, Mako, httplib2, httpcore, h2, grpcio, googleapis-common-protos, google-resumable-media, deprecated, cffi, anyio, watchfiles, starlette, pytest-cov, pytest-asyncio, pydantic, pandas, limits, httpx, grpcio-status, google-auth, cryptography, cachecontrol, alembic, slowapi, google-auth-httplib2, google-api-core, fastapi, google-cloud-core, google-api-python-client, google-cloud-storage, google-cloud-firestore, google-ai-generativelanguage, google-generativeai, firebase-admin
2025-09-28T10:25:26.443476214Z 
2025-09-28T10:25:26.451921379Z Successfully installed Mako-1.3.10 MarkupSafe-3.0.3 alembic-1.16.5 annotated-types-0.7.0 anyio-4.11.0 cachecontrol-0.14.3 cachetools-5.5.2 certifi-2025.8.3 cffi-2.0.0 charset_normalizer-3.4.3 click-8.3.0 coverage-7.10.7 cryptography-46.0.1 deprecated-1.2.18 fastapi-0.117.1 firebase-admin-7.1.0 google-ai-generativelanguage-0.6.15 google-api-core-2.25.1 google-api-python-client-2.183.0 google-auth-2.40.3 google-auth-httplib2-0.2.0 google-cloud-core-2.4.3 google-cloud-firestore-2.21.0 google-cloud-storage-3.4.0 google-crc32c-1.7.1 google-generativeai-0.8.5 google-resumable-media-2.7.2 googleapis-common-protos-1.70.0 greenlet-3.2.4 grpcio-1.75.1 grpcio-status-1.71.2 h11-0.16.0 h2-4.3.0 hpack-4.1.0 httpcore-1.0.9 httplib2-0.31.0 httptools-0.6.4 httpx-0.28.1 hyperframe-6.1.0 idna-3.10 iniconfig-2.1.0 limits-5.5.0 msgpack-1.1.1 numpy-2.3.3 packaging-25.0 pandas-2.3.2 pluggy-1.6.0 proto-plus-1.26.1 protobuf-5.29.5 psycopg-3.2.10 psycopg-binary-3.2.10 psycopg2-binary-2.9.10 pyasn1-0.6.1 pyasn1-modules-0.4.2 pycparser-2.23 pydantic-2.11.9 pydantic-core-2.33.2 pygments-2.19.2 pyjwt-2.10.1 pymysql-1.1.2 pyparsing-3.2.5 pytest-8.4.2 pytest-asyncio-1.2.0 pytest-cov-7.0.0 python-dateutil-2.9.0.post0 python-dotenv-1.1.1 python-multipart-0.0.20 pytz-2025.2 pyyaml-6.0.3 rapidfuzz-3.14.1 requests-2.32.5 rsa-4.9.1 sentry-sdk-2.39.0 six-1.17.0 slowapi-0.1.9 sniffio-1.3.1 sqlalchemy-2.0.43 starlette-0.48.0 structlog-25.4.0 tenacity-9.1.2 tqdm-4.67.1 typing-extensions-4.15.0 typing-inspection-0.4.1 tzdata-2025.2 uritemplate-4.2.0 urllib3-2.5.0 uvicorn-0.37.0 uvloop-0.21.0 watchfiles-1.1.0 websockets-15.0.1 wrapt-1.17.3
2025-09-28T10:25:26.458622082Z 
2025-09-28T10:25:26.459743779Z [notice] A new release of pip is available: 25.1.1 -> 25.2
2025-09-28T10:25:26.459751589Z [notice] To update, run: pip install --upgrade pip
2025-09-28T10:25:28.5304742Z ==> Uploading build...
2025-09-28T10:25:51.748572692Z ==> Uploaded in 16.8s. Compression took 6.4s
2025-09-28T10:25:51.865296322Z ==> Build successful 🎉
2025-09-28T10:25:54.261695966Z ==> Deploying...
2025-09-28T10:26:30.040481998Z ==> Running '   cd backend && python init_db.py && uvicorn src.main:app --host 0.0.0.0 --port $PORT'
2025-09-28T10:26:33.089192457Z 🔄 Initializing database...
2025-09-28T10:26:33.089218418Z ✅ Database initialized successfully!
2025-09-28T10:26:59.783400911Z /opt/render/project/src/.venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
2025-09-28T10:26:59.783426381Z * 'schema_extra' has been renamed to 'json_schema_extra'
2025-09-28T10:26:59.783432532Z   warnings.warn(message, UserWarning)
2025-09-28T10:26:59.887000644Z INFO:     Started server process [56]
2025-09-28T10:26:59.887021005Z INFO:     Waiting for application startup.
2025-09-28T10:27:00.56148379Z INFO:     Application startup complete.
2025-09-28T10:27:00.577096455Z INFO:     Uvicorn running on http://0.0.0.0:10000 (Press CTRL+C to quit)
2025-09-28T10:27:00.887267146Z ==> No open ports detected, continuing to scan...
2025-09-28T10:27:01.0815106Z No .env file found at: /opt/render/project/src/backend/.env
2025-09-28T10:27:01.08153107Z Make sure to create a .env file with your GEMINI_API_KEY
2025-09-28T10:27:01.08153652Z ✅ Gemini API key loaded successfully
2025-09-28T10:27:01.08154076Z 📊 Using model: gemini-flash-latest, temperature: 0.8
2025-09-28T10:27:01.08154472Z 💰 Daily cost limit: $1.0, Monthly: $10.0
2025-09-28T10:27:01.081548981Z ✅ Gemini model 'gemini-flash-latest' configured successfully
2025-09-28T10:27:01.081554931Z ✅ AI Product Descriptions API started successfully
2025-09-28T10:27:01.081560101Z 🤖 Model: gemini-flash-latest (Live mode)
2025-09-28T10:27:01.081565951Z 🌡️  Temperature: 0.8
2025-09-28T10:27:01.081571551Z ✅ API key configured - ready for AI generation
2025-09-28T10:27:01.081576841Z 💳 Credit service initialized - rate limiting enabled
2025-09-28T10:27:01.081582311Z 📋 Subscription plans initialized
2025-09-28T10:27:01.081587551Z INFO:     127.0.0.1:55994 - "HEAD / HTTP/1.1" 404 Not Found
2025-09-28T10:27:01.202021564Z ==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
2025-09-28T10:27:05.068549415Z ==> Your service is live 🎉
2025-09-28T10:27:05.175245715Z ==> 
2025-09-28T10:27:05.251435094Z ==> ///////////////////////////////////////////////////////////
2025-09-28T10:27:05.326299684Z ==> 
2025-09-28T10:27:05.401426373Z ==> Available at your primary URL https://ai-product-descriptions.onrender.com
2025-09-28T10:27:05.476682983Z ==> 
2025-09-28T10:27:05.553257933Z ==> ///////////////////////////////////////////////////////////
2025-09-28T10:27:06.960495723Z INFO:     34.82.29.197:0 - "GET / HTTP/1.1" 404 Not Found
2025-09-28T10:27:21.140314548Z INFO:     41.238.10.39:0 - "WebSocket /ws/payments" [accepted]
2025-09-28T10:27:21.140789311Z INFO:     connection open
2025-09-28T10:27:23.645475419Z INFO:     41.238.10.39:0 - "OPTIONS /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:24.183028585Z INFO:     41.238.10.39:0 - "OPTIONS /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:24.277592354Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:24.279593216Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:24.392467531Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:24.442421649Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:24.444193445Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:25.12782533Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:26.182330245Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:26.184280945Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:26.989966663Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:27.226979975Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:27.228974277Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:28.007764254Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:28.15648775Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:28.158041011Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:29.015452012Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:29.19114071Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:29.193246565Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:30.005989435Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:30.161439146Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:30.163174631Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:30.991716553Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:31.50471378Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:31.507827341Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:32.028834637Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:32.178304853Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:32.18010742Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:32.378676722Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:32.380473759Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:33.034674278Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:33.22477634Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:34.171801762Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:34.173817184Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:35.029003378Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:35.167201692Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:35.168818214Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:36.007981391Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:36.199556261Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:36.201273996Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:37.029174661Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:37.178726809Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:37.180416463Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:38.069916569Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:38.32341819Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:38.325076843Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:39.162534626Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:39.665649217Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:39.667421693Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:40.901813306Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:40.903631673Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:41.806181659Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:42.441473816Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:42.455461139Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:42.458359385Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:43.843254651Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:44.039434361Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:44.04131638Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:44.51977575Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:44.947303225Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:44.948866516Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:45.951324819Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:45.951568505Z WARNING:src.database.deps:Commit failed (may be expected): Method 'commit()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:27:45.951636287Z WARNING:src.database.deps:Close failed: Method 'close()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:27:45.951693438Z WARNING:src.database.deps:Remove from registry failed: Method 'close()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:27:45.952036417Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:45.952731325Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:53.864952427Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:53.865553583Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:53.86929398Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:54.034258349Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:54.055747218Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:54.059640449Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:54.226812745Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:54.349224318Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:54.351808755Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:54.865630834Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:54.867432881Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:55.380769497Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:55.91012018Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:55.923641392Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:55.926305821Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:56.849881793Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:56.851764072Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:27:56.975792107Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:57.934654027Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:27:57.95785041Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:27:57.960999972Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:06.534947052Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:23.040516253Z INFO:     connection closed
2025-09-28T10:28:28.345494954Z INFO:     41.238.10.39:0 - "WebSocket /ws/payments" [accepted]
2025-09-28T10:28:28.345667828Z INFO:     connection open
2025-09-28T10:28:28.346868179Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:28.534264462Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:28.534807836Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:28.57957196Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:28.800684898Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:28.800827692Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:28.879081717Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:29.013553273Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:29.111096209Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:29.113597134Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:29.236400277Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:29.329122208Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:29.333118882Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:29.452226389Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:29.647589108Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:37.704176902Z INFO:     41.238.10.39:0 - "OPTIONS /api/payment/plans HTTP/1.1" 200 OK
2025-09-28T10:28:37.886835961Z INFO:     41.238.10.39:0 - "GET /api/payment/plans HTTP/1.1" 200 OK
2025-09-28T10:28:38.288968907Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:38.290310192Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:38.393956457Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:38.882373716Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:38.885524267Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:38.997127689Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:41.578731192Z INFO:     41.238.10.39:0 - "OPTIONS /api/payment/checkout HTTP/1.1" 200 OK
2025-09-28T10:28:42.257655884Z 🎯 STEP 1: CREATE_CHECKOUT ENDPOINT CALLED
2025-09-28T10:28:42.257675085Z Request data: variant_id='1013286' success_url='https://www.productgeniepro.com/billing?success=true' cancel_url='https://www.productgeniepro.com/pricing?cancelled=true'
2025-09-28T10:28:42.257683245Z Variant ID: 1013286
2025-09-28T10:28:42.257689675Z Success URL: https://www.productgeniepro.com/billing?success=true
2025-09-28T10:28:42.257693756Z Cancel URL: https://www.productgeniepro.com/pricing?cancelled=true
2025-09-28T10:28:42.257698596Z 🎯 STEP 2: GETTING CLIENT INFO
2025-09-28T10:28:42.257704336Z Client info: {'ip_address': '41.238.10.39', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36', 'correlation_id': 'f9ebab6c-b4ad-4fdb-88b6-ce5d61563997'}
2025-09-28T10:28:42.257710186Z 🎯 STEP 3: EXTRACTING AUTH DATA
2025-09-28T10:28:42.257714256Z User ID: bpR6MB3823T20EK7BEa3cs2y22u2
2025-09-28T10:28:42.257718236Z User email: ziad321hussein@gmail.com
2025-09-28T10:28:42.257722096Z 🎯 STEP 4: VALIDATING USER
2025-09-28T10:28:42.257725976Z ✅ STEP 4 SUCCESS: User validated
2025-09-28T10:28:42.257730406Z 🎯 STEP 5: VALIDATING VARIANT ID
2025-09-28T10:28:42.257734586Z ✅ STEP 5 SUCCESS: Variant ID validated
2025-09-28T10:28:42.257739006Z 🎯 STEP 6: CALLING LEMON_SQUEEZY SERVICE
2025-09-28T10:28:42.257743247Z 🎯 LEMON SQUEEZY PAYLOAD DEBUG 🎯
2025-09-28T10:28:42.257747447Z === VARIABLES ===
2025-09-28T10:28:42.257751737Z Variant ID: 1013286
2025-09-28T10:28:42.257755917Z Store ID: 224253
2025-09-28T10:28:42.257760227Z User ID: bpR6MB3823T20EK7BEa3cs2y22u2
2025-09-28T10:28:42.257764317Z User Email: ziad321hussein@gmail.com
2025-09-28T10:28:42.257768267Z Success URL: https://www.productgeniepro.com/billing?success=true
2025-09-28T10:28:42.257772198Z Cancel URL: https://www.productgeniepro.com/pricing?cancelled=true
2025-09-28T10:28:42.257776078Z Test Mode: True
2025-09-28T10:28:42.257779988Z === PAYLOAD BEING SENT ===
2025-09-28T10:28:42.257783758Z {
2025-09-28T10:28:42.257787618Z   "data": {
2025-09-28T10:28:42.257791368Z     "type": "checkouts",
2025-09-28T10:28:42.257794968Z     "attributes": {
2025-09-28T10:28:42.257798778Z       "checkout_options": {
2025-09-28T10:28:42.257802688Z         "embed": false,
2025-09-28T10:28:42.257806478Z         "media": false
2025-09-28T10:28:42.257810319Z       },
2025-09-28T10:28:42.257831749Z       "checkout_data": {
2025-09-28T10:28:42.257834559Z         "email": "ziad321hussein@gmail.com",
2025-09-28T10:28:42.257837149Z         "custom": {
2025-09-28T10:28:42.257841589Z           "user_id": "bpR6MB3823T20EK7BEa3cs2y22u2"
2025-09-28T10:28:42.257844069Z         }
2025-09-28T10:28:42.257846389Z       },
2025-09-28T10:28:42.25784862Z       "product_options": {
2025-09-28T10:28:42.25785092Z         "redirect_url": "https://www.productgeniepro.com/billing?success=true"
2025-09-28T10:28:42.25785332Z       }
2025-09-28T10:28:42.25785562Z     },
2025-09-28T10:28:42.25785815Z     "relationships": {
2025-09-28T10:28:42.25786049Z       "store": {
2025-09-28T10:28:42.25786275Z         "data": {
2025-09-28T10:28:42.2578652Z           "type": "stores",
2025-09-28T10:28:42.25786749Z           "id": "224253"
2025-09-28T10:28:42.25786974Z         }
2025-09-28T10:28:42.25787192Z       },
2025-09-28T10:28:42.25787408Z       "variant": {
2025-09-28T10:28:42.25787633Z         "data": {
2025-09-28T10:28:42.25787855Z           "type": "variants",
2025-09-28T10:28:42.25788089Z           "id": "1013286"
2025-09-28T10:28:42.25788324Z         }
2025-09-28T10:28:42.25788552Z       }
2025-09-28T10:28:42.257887821Z     }
2025-09-28T10:28:42.257905901Z   }
2025-09-28T10:28:42.257911801Z }
2025-09-28T10:28:42.257914601Z === HEADERS ===
2025-09-28T10:28:42.257917271Z {
2025-09-28T10:28:42.257922341Z   "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NGQ1OWNlZi1kYmI4LTRlYTUtYjE3OC1kMjU0MGZjZDY5MTkiLCJqdGkiOiJkOGY2NTljZjdhMzA3ZGNjM2RjNTk4ZjNiMzU4YTk3YTczYzdhNGJkNDg2ZDlkM2JhYTE4OGQ4Y2MxMGU1Zjc5YWQzODJkZTgyYjgxNjRiNiIsImlhdCI6MTc1ODgyNzU5MC41NzYwMjcsIm5iZiI6MTc1ODgyNzU5MC41NzYwMjksImV4cCI6MjA3NDM2MDM5MC41NjA2NzcsInN1YiI6IjU1NzE5NjQiLCJzY29wZXMiOltdfQ.v6DQ8CrPGAovPSiYrv6Y3GkQ3DWHPcC0aAiZ9mP5BsXCwXoz5Kf1OY-fLAHC4ikcmx2RYZuLbSrF_Xxa4mvw2exFnJMsODiiuzItzhdVGUwR89IzbFAD6hcto-w0ERT3gjP781BJ-lxa7pzC4tCADeRhAtMPM7MZ7h7g-0JsRjXyNDrM0ArKoN84kiGHojmPCBomBuXTQ-mC_VQEWn8PKxTbZEem7FoyP4ydK46xYQu-naukuPTOZHRQ44Mdz_16JQ7Cda2pbfJo2osSPGaLTYUKvH0-aF2jlZToxGCPPr8LbPsHo1-96W2D6CBkCF0kFd6BQd0PKw64X-2ywolNwyna51cLKvkZuOHrh2Z8XVG0GONxeo6b1mFzgs8PzSkaPJ5Er_vhcRQVhAolOVmBHcZ61FUUJ208hR1FUVzMHlrTWtcTAi6HUjthHZB2ZL0xrIkDcWQPxG38i8ArAslXFLytqDTU3tePixq0WDHHBnBq8XSbleFoLH8rdc0j4v5KEPoJyXUS7MrHkiJ602WwLFPuczEdkRPvnSNeRKhsSlPkO8SiQFdHZ6VLCGQoEWDvm7SL2U6lmOJ2T1imOAGiTveGoliycICl_HQo29Fk0VFMFVa_jei7HCgdsLArClUHceqfx5UTOsrWxcd8zr75ALBqDzIWT9tpG5ifdTappes",
2025-09-28T10:28:42.257925862Z   "Accept": "application/vnd.api+json",
2025-09-28T10:28:42.257928251Z   "Content-Type": "application/vnd.api+json",
2025-09-28T10:28:42.257930502Z   "Version": "2021-07-07"
2025-09-28T10:28:42.257932842Z }
2025-09-28T10:28:42.257935152Z === API ENDPOINT ===
2025-09-28T10:28:42.257937562Z POST https://api.lemonsqueezy.com/v1/checkouts
2025-09-28T10:28:42.257939832Z === RESPONSE ===
2025-09-28T10:28:42.257942122Z Status: Unknown
2025-09-28T10:28:42.257944442Z Response: {
2025-09-28T10:28:42.257946702Z   "jsonapi": {
2025-09-28T10:28:42.257948982Z     "version": "1.0"
2025-09-28T10:28:42.257951222Z   },
2025-09-28T10:28:42.257953562Z   "links": {
2025-09-28T10:28:42.257957172Z     "self": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b"
2025-09-28T10:28:42.257959582Z   },
2025-09-28T10:28:42.257961832Z   "data": {
2025-09-28T10:28:42.257964112Z     "type": "checkouts",
2025-09-28T10:28:42.257966383Z     "id": "593e95fa-8872-477f-82bd-ca2986fe199b",
2025-09-28T10:28:42.257968652Z     "attributes": {
2025-09-28T10:28:42.257970853Z       "store_id": 224253,
2025-09-28T10:28:42.257973213Z       "variant_id": 1013286,
2025-09-28T10:28:42.257981893Z       "custom_price": null,
2025-09-28T10:28:42.257984283Z       "product_options": {
2025-09-28T10:28:42.257986553Z         "name": "",
2025-09-28T10:28:42.257989003Z         "description": "",
2025-09-28T10:28:42.257991883Z         "media": [],
2025-09-28T10:28:42.257994773Z         "redirect_url": "https://www.productgeniepro.com/billing?success=true",
2025-09-28T10:28:42.257997593Z         "receipt_button_text": "",
2025-09-28T10:28:42.258000243Z         "receipt_link_url": "",
2025-09-28T10:28:42.258002944Z         "receipt_thank_you_note": "",
2025-09-28T10:28:42.258005613Z         "enabled_variants": [],
2025-09-28T10:28:42.258008064Z         "confirmation_title": "",
2025-09-28T10:28:42.258010714Z         "confirmation_message": "",
2025-09-28T10:28:42.258013534Z         "confirmation_button_text": ""
2025-09-28T10:28:42.258015724Z       },
2025-09-28T10:28:42.258017964Z       "checkout_options": {
2025-09-28T10:28:42.258020364Z         "embed": false,
2025-09-28T10:28:42.258026424Z         "media": false,
2025-09-28T10:28:42.258028954Z         "logo": true,
2025-09-28T10:28:42.258031404Z         "desc": true,
2025-09-28T10:28:42.258033764Z         "discount": true,
2025-09-28T10:28:42.258036094Z         "skip_trial": false,
2025-09-28T10:28:42.258038324Z         "quantity": 1,
2025-09-28T10:28:42.258040625Z         "subscription_preview": true,
2025-09-28T10:28:42.258042885Z         "locale": "en"
2025-09-28T10:28:42.258045174Z       },
2025-09-28T10:28:42.258047405Z       "checkout_data": {
2025-09-28T10:28:42.258049645Z         "email": "ziad321hussein@gmail.com",
2025-09-28T10:28:42.258051875Z         "name": "",
2025-09-28T10:28:42.258054235Z         "billing_address": [],
2025-09-28T10:28:42.258056515Z         "tax_number": "",
2025-09-28T10:28:42.258058695Z         "discount_code": "",
2025-09-28T10:28:42.258061025Z         "custom": {
2025-09-28T10:28:42.258063255Z           "user_id": "bpR6MB3823T20EK7BEa3cs2y22u2"
2025-09-28T10:28:42.258065575Z         },
2025-09-28T10:28:42.258067865Z         "variant_quantities": []
2025-09-28T10:28:42.258070165Z       },
2025-09-28T10:28:42.258072345Z       "preview": false,
2025-09-28T10:28:42.258074635Z       "expires_at": null,
2025-09-28T10:28:42.258077125Z       "created_at": "2025-09-28T10:28:42.000000Z",
2025-09-28T10:28:42.258079906Z       "updated_at": "2025-09-28T10:28:42.000000Z",
2025-09-28T10:28:42.258082515Z       "test_mode": true,
2025-09-28T10:28:42.258087036Z       "url": "https://product-genie.lemonsqueezy.com/checkout/custom/593e95fa-8872-477f-82bd-ca2986fe199b?signature=711ab909ab43c6c682d331864949bfbe5e740e3d22a7713257630bcd2f691e88"
2025-09-28T10:28:42.258089826Z     },
2025-09-28T10:28:42.258092416Z     "relationships": {
2025-09-28T10:28:42.258108606Z       "store": {
2025-09-28T10:28:42.258111266Z         "links": {
2025-09-28T10:28:42.258114976Z           "related": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b/store",
2025-09-28T10:28:42.258118567Z           "self": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b/relationships/store"
2025-09-28T10:28:42.258120956Z         }
2025-09-28T10:28:42.258123376Z       },
2025-09-28T10:28:42.258125767Z       "variant": {
2025-09-28T10:28:42.258127997Z         "links": {
2025-09-28T10:28:42.258130427Z           "related": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b/variant",
2025-09-28T10:28:42.258132937Z           "self": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b/relationships/variant"
2025-09-28T10:28:42.258140807Z         }
2025-09-28T10:28:42.258143167Z       }
2025-09-28T10:28:42.258145407Z     },
2025-09-28T10:28:42.258147757Z     "links": {
2025-09-28T10:28:42.258150287Z       "self": "https://api.lemonsqueezy.com/v1/checkouts/593e95fa-8872-477f-82bd-ca2986fe199b"
2025-09-28T10:28:42.258152577Z     }
2025-09-28T10:28:42.258154797Z   }
2025-09-28T10:28:42.258157088Z }
2025-09-28T10:28:42.258159468Z ✅ STEP 6 SUCCESS: Lemon Squeezy service call successful
2025-09-28T10:28:42.258163668Z Result: {'success': True, 'checkout_url': 'https://product-genie.lemonsqueezy.com/checkout/custom/593e95fa-8872-477f-82bd-ca2986fe199b?signature=711ab909ab43c6c682d331864949bfbe5e740e3d22a7713257630bcd2f691e88', 'checkout_id': '593e95fa-8872-477f-82bd-ca2986fe199b'}
2025-09-28T10:28:42.258166978Z INFO:     41.238.10.39:0 - "POST /api/payment/checkout HTTP/1.1" 200 OK
2025-09-28T10:28:42.53825634Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:42.813284361Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:42.815996021Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:42.895235322Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:43.258653661Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:43.261444094Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:43.805222342Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:28:43.8089833Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:28:43.920554021Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:28:44.512387479Z INFO:     connection closed
2025-09-28T10:29:30.9337396Z WARNING:security:{"event_type": "webhook_received", "user_id": null, "timestamp": "2025-09-28T10:29:30.933442+00:00", "ip_address": null, "user_agent": null, "event_data": {"signature_provided": true, "signature_valid": true}, "security_level": "high", "success": true, "error_message": null, "session_id": null, "correlation_id": null}
2025-09-28T10:29:30.940867775Z INFO:     18.116.135.47:0 - "POST /api/payment/webhook HTTP/1.1" 200 OK
2025-09-28T10:29:32.300154249Z WARNING:security:{"event_type": "webhook_received", "user_id": null, "timestamp": "2025-09-28T10:29:32.299947+00:00", "ip_address": null, "user_agent": null, "event_data": {"signature_provided": true, "signature_valid": true}, "security_level": "high", "success": true, "error_message": null, "session_id": null, "correlation_id": null}
2025-09-28T10:29:32.308110916Z WARNING:src.payments.lemon_squeezy:❌ Unknown variant_id: 1013286
2025-09-28T10:29:32.308124616Z WARNING:src.payments.lemon_squeezy:Available variant IDs: ['1013286', '1013276', '1013282']
2025-09-28T10:29:32.308137016Z ERROR:src.payments.lemon_squeezy:Unknown variant_id 1013286 in subscription creation
2025-09-28T10:29:32.308576948Z INFO:     18.116.135.47:0 - "POST /api/payment/webhook HTTP/1.1" 200 OK
2025-09-28T10:29:35.504235Z INFO:     41.238.10.39:0 - "WebSocket /ws/payments" [accepted]
2025-09-28T10:29:35.504460836Z INFO:     connection open
2025-09-28T10:29:35.84345467Z ERROR:src.payments.endpoints:Error getting user subscription: This session is in 'prepared' state; no further SQL can be emitted within this transaction.
2025-09-28T10:29:35.843671026Z WARNING:src.database.deps:Rollback failed: Method 'rollback()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:29:35.843703687Z ERROR:src.database.deps:Database session error: 500: Failed to get user subscription: This session is in 'prepared' state; no further SQL can be emitted within this transaction.
2025-09-28T10:29:35.843761208Z WARNING:src.database.deps:Close failed: Method 'close()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:29:35.843908342Z WARNING:src.database.deps:Remove from registry failed: Method 'close()' can't be called here; method 'commit()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)
2025-09-28T10:29:35.84422284Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 500 Internal Server Error
2025-09-28T10:29:35.844794185Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:36.062631529Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:36.063027999Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:36.064687683Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:36.236391297Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:36.238972744Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:36.266647064Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:36.477852385Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:36.679839968Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:39.985453349Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:40.581755424Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:40.581793605Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:40.792015972Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:40.934947628Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:40.938697245Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:41.046589251Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:43.032837297Z INFO:     41.238.10.39:0 - "GET /api/payment/plans HTTP/1.1" 200 OK
2025-09-28T10:29:43.592314034Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:43.595083436Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:43.764432609Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:29:44.013521846Z WARNING:src.payments.endpoints:User bpR6MB3823T20EK7BEa3cs2y22u2 has no subscription record, returning free tier
2025-09-28T10:29:44.016021301Z INFO:     41.238.10.39:0 - "GET /api/payment/user/subscription HTTP/1.1" 200 OK
2025-09-28T10:29:44.132476659Z INFO:     41.238.10.39:0 - "GET /api/payment/user/credits HTTP/1.1" 200 OK
2025-09-28T10:30:02.093014278Z WARNING:security:{"event_type": "webhook_received", "user_id": null, "timestamp": "2025-09-28T10:30:02.092741+00:00", "ip_address": null, "user_agent": null, "event_data": {"signature_provided": true, "signature_valid": true}, "security_level": "high", "success": true, "error_message": null, "session_id": null, "correlation_id": null}
2025-09-28T10:30:02.101273623Z WARNING:src.payments.lemon_squeezy:❌ Unknown variant_id: 1013286
2025-09-28T10:30:02.101287173Z WARNING:src.payments.lemon_squeezy:Available variant IDs: ['1013286', '1013276', '1013282']
2025-09-28T10:30:02.101289943Z ERROR:src.payments.lemon_squeezy:Unknown variant_id 1013286 in subscription update
2025-09-28T10:30:02.101729245Z INFO:     18.116.135.47:0 - "POST /api/payment/webhook HTTP/1.1" 200 OK
2025-09-28T10:32:08.253667743Z ==> Detected service running on port 10000
2025-09-28T10:32:08.49375916Z ==> Docs on specifying a port: https://render.com/docs/web-services#port-binding